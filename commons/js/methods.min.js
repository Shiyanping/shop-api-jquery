var methods={dateFormat:function(e,t){void 0===t&&(t=e,e=new Date);var n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,r){var a=n[r];return void 0!==a?(t.length>1&&(a=(a="0"+a).substr(a.length-2)),a):"y"===r?(e.getFullYear()+"").substr(4-t.length):t})},getUrlParam:function(e,t){var n=new RegExp("\\?(?:.+&)?"+t+"=(.*?)(?:[?&].*)?$"),r=e.match(n);return r?r[1]:""},setCookie:function(e,t,n){var r="";if(0!=(n=n||0)){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toGMTString()}document.cookie=e+"="+escape(t)+r+"; path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return unescape(a.substring(t.length,a.length))}return!1},clearCookie:function(e){this.setCookie(e,"",-1)},request:function(e,t,n,r,a){$.ajax({url:e,data:t,type:n,dataType:"json",contentType:"application/x-www-form-urlencoded;charset=UTF-8",success:function(e){r&&r(e)},error:function(e){a&&a(e)}})},randomString:function(e){e=e||6;for(var t="abcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r="",a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*n));return r},uuid:function(e,t){var n,r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||a.length,e)for(n=0;n<e;n++)o[n]=a[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(r=0|16*Math.random(),o[n]=a[19==n?3&r|8:r]);return o.join("")},ajax:function(e){var t=e||{};t.type=(t.type||"GET").toUpperCase(),t.dataType=t.dataType||"json";var n=methods.formatParams(t.data);if(window.XMLHttpRequest)var r=new XMLHttpRequest;else r=new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){if(4==r.readyState){var e=r.status;e>=200&&e<300?t.success&&t.success(r.responseText,r.responseXML):t.fail&&t.fail(e)}},"GET"==t.type?(-1!=t.url.indexOf("?")?r.open("GET",t.url,!0):r.open("GET",t.url+"?"+n,!0),r.send(null)):"POST"==t.type&&(r.open("POST",t.url,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),r.send(n))},formatParams:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},nativeAjax:function(e,t,n,r,a){methods.ajax({url:e,type:n,data:t,dataType:"json",success:function(e,t){"string"==typeof e&&(e=JSON.parse(e)),r&&r(e)},fail:function(e){a&&a(e)}})},htmlDecodeByRegExp:function(e){return 0==e.length?"":e.replace(/&gt;/g,"&").replace(/& lt;/g,"<").replace(/& gt;/g,">").replace(/&nbsp;/g," ").replace(/& #39;/g,"'").replace(/&quot;/g,'"').replace(/<br>/g,"\n").replace(/& #40;/g,"(").replace(/& #41;/g,")")},trim:function(e,t){var n;return n=e.replace(/(^\s+)|(\s+$)/g,""),"g"==t.toLowerCase()&&(n=n.replace(/\s/g,"")),n},subStr:function(e){return"***"+(e+="").slice(e.length-5,e.length-1)}};